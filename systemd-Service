systemd + Auto-Restart (Gunicorn + Flask)
ðŸŽ¯ Goal of this stage

Gunicorn starts automatically on server boot

Gunicorn restarts if it crashes

You donâ€™t need to run commands manually

NGINX talks to Gunicorn all the time

ðŸ”¹ Prerequisites (confirm once)

You already have:

Flask app â†’ /home/sowtheswari22/app.py

Virtualenv â†’ /home/sowtheswari22/flask-env

Gunicorn installed inside venv

NGINX reverse proxy configured

Gunicorn runs on 127.0.0.1:8000

ðŸ”¹ Step 1 â€” Identify your Flask app object (VERY IMPORTANT)

Open app.py:

nano /home/sowtheswari22/app.py


Make sure it looks like this:

from flask import Flask

app = Flask(__name__)

@app.route("/")
def home():
    return "Welcome to Application"

if __name__ == "__main__":
    app.run()


ðŸ‘‰ Your WSGI callable is named: app

So Gunicorn command will be:

app:app

ðŸ”¹ Step 2 â€” Create systemd service file

Go to systemd directory:

sudo nano /etc/systemd/system/flaskapp.service


Paste exactly this (very important):

[Unit]
Description=Gunicorn service for Flask app
After=network.target

[Service]
User=mohancbe5202
Group=www-data
WorkingDirectory=/home/sowtheswari22
Environment="PATH=/home/sowthesawri22/flask-env/bin"
ExecStart=/home/sowtheswari22/flask-env/bin/gunicorn \
          --workers 3 \
          --bind 127.0.0.1:8000 \
          app:app

Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target


Save:

CTRL + X â†’ Y â†’ Enter

ðŸ”¹ Step 3 â€” Reload systemd

Tell systemd a new service exists:

sudo systemctl daemon-reload

ðŸ”¹ Step 4 â€” Start the Flask service
sudo systemctl start flaskapp


Check status:

sudo systemctl status flaskapp


You should see:

Active: active (running)

ðŸ”¹ Step 5 â€” Enable auto-start on boot
sudo systemctl enable flaskapp


Output:

Created symlink ...

ðŸ”¹ Step 6 â€” Test auto-restart (IMPORTANT)

Stop it manually:

sudo systemctl stop flaskapp


Check:

sudo systemctl status flaskapp


Now start again:

sudo systemctl start flaskapp


OR kill Gunicorn process:

sudo pkill gunicorn


Wait 5 seconds, then:

sudo systemctl status flaskapp


âœ… It should restart automatically

ðŸ”¹ Step 7 â€” Final end-to-end test
sudo ss -lntup | grep 8000


Browser:

http://<server-ip>


ðŸŽ‰ Your app should load perfectly.
